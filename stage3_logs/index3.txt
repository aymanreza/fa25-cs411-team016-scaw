+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| -> Limit: 15 row(s)  (actual time=3.03..3.04 rows=15 loops=1)
    -> Filter: (`count(p.plot_id)` = 0)  (actual time=3.03..3.03 rows=15 loops=1)
        -> Table scan on <temporary>  (actual time=3.03..3.03 rows=15 loops=1)
            -> Aggregate using temporary table  (actual time=3.03..3.03 rows=1000 loops=1)
                -> Nested loop left join  (cost=8853 rows=50000) (actual time=0.0622..2.12 rows=1257 loops=1)
                    -> Covering index scan on u using email  (cost=103 rows=1000) (actual time=0.042..0.243 rows=1000 loops=1)
                    -> Filter: (p.is_active = 1)  (cost=3.75 rows=50) (actual time=0.00121..0.00171 rows=0.267 loops=1000)
                        -> Index lookup on p using user_id (user_id=u.user_id)  (cost=3.75 rows=50) (actual time=0.00109..0.00156 rows=0.5 loops=1000)
 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.006 sec)

Query OK, 0 rows affected (0.098 sec)
Records: 0  Duplicates: 0  Warnings: 0

+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| -> Limit: 15 row(s)  (actual time=2.33..2.34 rows=15 loops=1)
    -> Filter: (`count(p.plot_id)` = 0)  (actual time=2.33..2.34 rows=15 loops=1)
        -> Table scan on <temporary>  (actual time=2.33..2.33 rows=15 loops=1)
            -> Aggregate using temporary table  (actual time=2.33..2.33 rows=1000 loops=1)
                -> Nested loop left join  (cost=2860 rows=25000) (actual time=0.0386..1.51 rows=1257 loops=1)
                    -> Covering index scan on u using email  (cost=103 rows=1000) (actual time=0.0295..0.23 rows=1000 loops=1)
                    -> Covering index lookup on p using idx_plots_user_active (user_id=u.user_id, is_active=1)  (cost=0.26 rows=25) (actual time=0.00105..0.00112 rows=0.267 loops=1000)
 |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.003 sec)

--------------
DROP INDEX idx_plots_user_active ON plots
--------------

ERROR 1553 (HY000): Cannot drop index 'idx_plots_user_active': needed in a foreign key constraint
Query OK, 0 rows affected (0.103 sec)
Records: 0  Duplicates: 0  Warnings: 0

+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| -> Limit: 15 row(s)  (actual time=2.41..2.41 rows=15 loops=1)
    -> Filter: (`count(p.plot_id)` = 0)  (actual time=2.41..2.41 rows=15 loops=1)
        -> Table scan on <temporary>  (actual time=2.4..2.41 rows=15 loops=1)
            -> Aggregate using temporary table  (actual time=2.4..2.4 rows=1000 loops=1)
                -> Nested loop left join  (cost=2860 rows=25000) (actual time=0.0584..1.59 rows=1257 loops=1)
                    -> Covering index scan on u using email  (cost=103 rows=1000) (actual time=0.0274..0.254 rows=1000 loops=1)
                    -> Covering index lookup on p using idx_plots_user_active (user_id=u.user_id, is_active=1)  (cost=0.26 rows=25) (actual time=0.00111..0.00117 rows=0.267 loops=1000)
 |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.004 sec)

--------------
DROP INDEX idx_users_email
--------------

ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
Query OK, 0 rows affected (0.047 sec)
Records: 0  Duplicates: 0  Warnings: 0

+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| -> Limit: 15 row(s)  (actual time=2.44..2.44 rows=15 loops=1)
    -> Filter: (`count(p.plot_id)` = 0)  (actual time=2.44..2.44 rows=15 loops=1)
        -> Table scan on <temporary>  (actual time=2.44..2.44 rows=15 loops=1)
            -> Aggregate using temporary table  (actual time=2.43..2.43 rows=1000 loops=1)
                -> Nested loop left join  (cost=2860 rows=25000) (actual time=0.062..1.58 rows=1257 loops=1)
                    -> Covering index scan on u using email  (cost=103 rows=1000) (actual time=0.045..0.247 rows=1000 loops=1)
                    -> Covering index lookup on p using idx_plots_user_active (user_id=u.user_id, is_active=1)  (cost=0.26 rows=25) (actual time=0.00107..0.00116 rows=0.267 loops=1000)
 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.004 sec)

Query OK, 0 rows affected (0.026 sec)
Records: 0  Duplicates: 0  Warnings: 0

